(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dc94804"],{1021:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("Add")])],1)],1),i("el-table",{attrs:{data:e.homeList}},[i("el-table-column",{attrs:{label:"Title",prop:"title"}}),i("el-table-column",{attrs:{label:"Description",prop:"description"}}),i("el-table-column",{attrs:{label:"Link",prop:"link"}}),i("el-table-column",{attrs:{label:"Operation"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.showEditDialog(t.row)}}},[e._v("Edit")]),i("el-popconfirm",{attrs:{"confirm-button-text":"Yes","cancel-button-text":"No",title:"Are you sure delete this home?",icon:"el-icon-delete",iconColor:"red"},on:{onConfirm:function(i){return e.deleteHome(t.row.id)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"},[e._v("Delete")])],1)]}}])})],1),i("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[10,20,30,50],"page-size":e.queryInfo.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),i("el-dialog",{attrs:{title:"add",width:"50%",visible:e.addDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClosed}},[i("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.formRules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"Title",prop:"title"}},[i("el-input",{model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),i("el-form-item",{attrs:{label:"Description",prop:"description"}},[i("el-input",{model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1),i("el-form-item",{attrs:{label:"Link",prop:"link"}},[i("el-input",{model:{value:e.addForm.link,callback:function(t){e.$set(e.addForm,"link",t)},expression:"addForm.link"}})],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addHome}},[e._v("Save")])],1)],1),i("el-dialog",{attrs:{title:"Edit",width:"50%",visible:e.editDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClosed}},[i("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.formRules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"Title",prop:"title"}},[i("el-input",{model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),i("el-form-item",{attrs:{label:"Description",prop:"description"}},[i("el-input",{model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1),i("el-form-item",{attrs:{label:"Link",prop:"link"}},[i("el-input",{model:{value:e.addForm.link,callback:function(t){e.$set(e.addForm,"link",t)},expression:"addForm.link"}})],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{type:"primary"},on:{click:e.editHome}},[e._v("Save")])],1)],1)],1)},a=[],r=i("5530"),n=i("6350"),l=i("4020");function s(e){return Object(l["a"])({url:"homes",method:"GET",params:Object(r["a"])({},e)})}function d(e){return Object(l["a"])({url:"home",method:"POST",data:Object(r["a"])({},e)})}function c(e){return Object(l["a"])({url:"home",method:"PUT",data:Object(r["a"])({},e)})}function u(e){return Object(l["a"])({url:"home",method:"DELETE",data:{id:id}})}var m={name:"HomeList",components:{Breadcrumb:n["a"]},data:function(){return{queryInfo:{pageNum:1,pageSize:10},homeList:[],total:0,addDialogVisible:!1,editDialogVisible:!1,addForm:{title:"",description:"",link:""},editForm:{},formRules:{title:[{required:!0,message:"Please enter a title",trigger:"blur"}],description:[{required:!0,message:"Please enter a description",trigger:"blur"}],link:[{required:!0,message:"Please enter a link",trigger:"blur"}]}}},created:function(){this.getData()},methods:{getData:function(){var e=this;s(this.queryInfo).then((function(t){e.homeList=t.data.list,e.total=t.data.total}))},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getData()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getData()},addDialogClosed:function(){this.addForm.color="",this.$refs.addFormRef.resetFields()},editDialogClosed:function(){this.editForm={},this.$refs.editFormRef.resetFields()},addHome:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&d(e.addForm).then((function(t){e.msgSuccess(t.msg),e.addDialogVisible=!1,e.getData()}))}))},editHome:function(){var e=this;this.$refs.editFormRef.validate((function(t){t&&c(e.editForm).then((function(t){e.msgSuccess(t.msg),e.editDialogVisible=!1,e.getData()}))}))},showEditDialog:function(e){this.editForm=Object(r["a"])({},e),this.editDialogVisible=!0},deleteHome:function(e){var t=this;u(e).then((function(e){t.msgSuccess(e.msg),t.getData()}))}}},p=m,f=(i("acb6"),i("2877")),b=Object(f["a"])(p,o,a,!1,null,"a019d1b4",null);t["default"]=b.exports},4020:function(e,t,i){"use strict";i("d3b7");var o=i("bc3a"),a=i.n(o),r=i("323e"),n=i.n(r),l=(i("a5d8"),i("5c96")),s=a.a.create({baseURL:"https://www.dev-demo.website/admin/",timeout:5e3}),d=a.a.CancelToken;s.interceptors.request.use((function(e){var t=window.localStorage.getItem("user")||"{}",i=JSON.parse(t);if("{}"!==t&&"ROLE_admin"!==i.role&&"get"!==e.method)return e.cancelToken=new d((function(e){e("Demo mode, operation is not allowed")})),e;n.a.start();var o=window.localStorage.getItem("token");return o&&(e.headers.Authorization=o),e}),(function(e){return console.info(e),Promise.reject(e)})),s.interceptors.response.use((function(e){n.a.done();var t=e.data;if(200!==t.code){var i=t.msg||"Error";return l["Message"].error(i),Promise.reject(new Error(i))}return t}),(function(e){return console.info(e),l["Message"].error(e.message),Promise.reject(e)})),t["a"]=s},7320:function(e,t,i){},acb6:function(e,t,i){"use strict";i("7320")}}]);